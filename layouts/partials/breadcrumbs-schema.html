{{/* layouts/partials/breadcrumbs-schema.html */}}

{{- if not .IsHome }}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ "/" | absURL }}"
    }{{- $pos := 2 -}}
      {{- $sectionName := .Section -}}
      {{- if $sectionName }}
        {{- $secPage := .Site.GetPage "section" $sectionName -}}
        {{- if $secPage }}
    , {
      "@type": "ListItem",
      "position": {{ $pos }},
      "name": "{{ $secPage.Title }}",
      "item": "{{ $secPage.Permalink }}"
    }{{- $pos = add $pos 1 -}}
        {{- end }}
      {{- end }}
    , {
      "@type": "ListItem",
      "position": {{ $pos }},
      "name": "{{ .Title }}",
      "item": "{{ .Permalink }}"
    }
  ]
}
</script>
{{- end }}