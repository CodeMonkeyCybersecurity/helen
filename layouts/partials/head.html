{{/* layouts/partials/head.html */}}

{{- /* --------- METADATA ---------- */ -}}
{{- $title := printf "%s | Code Monkey Cybersecurity" .Title -}}
{{- $desc  := .Params.description | default "Cybersecurity with Humans" -}}

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="color-scheme" content="light dark">
<meta name="theme-color" content="#0ca678">

<title>{{ $title }}</title>
<meta name="description" content="{{ $desc }}">

{{/* OpenGraph */}}
<meta property="og:title"       content="{{ $title }}">
<meta property="og:type"        content="website">
<meta property="og:url"         content="{{ .Permalink }}">
<meta property="og:image"       content="https://cybermonkey.net.au/assets/images/social-banner.png">
<meta property="og:description" content="{{ $desc }}">

{{/* Twitter Card */}}
<meta name="twitter:card"        content="summary_large_image">
<meta name="twitter:title"       content="{{ $title }}">
<meta name="twitter:description" content="{{ $desc }}">
<meta name="twitter:image"       content="https://cybermonkey.net.au/assets/images/social-banner.png">

<link rel="canonical" href="{{ .Permalink }}">
<link rel="icon" type="image/png" href="{{ "/assets/images/favicon-circular-128x128.png" | relURL }}">

{{- /* --------- CSS BUNDLE ---------- */ -}}
{{- /* 
     1) Match all base/*.css
     2) Append layout/*.css
     3) Append components/*.css
     4) Concat, minify & fingerprint
*/ -}}
{{- $styles := resources.Match "css/base/*.css" 
    | resources.Append (resources.Match "css/layout/*.css")
    | resources.Append (resources.Match "css/components/*.css")
    | resources.Concat "css/site.css"
    | resources.Minify
    | resources.Fingerprint -}}
<link rel="preload" as="style" href="{{ $styles.RelPermalink }}">
<link rel="stylesheet" href="{{ $styles.RelPermalink }}">

{{- /* --------- JAVASCRIPT ---------- */ -}}
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2" defer></script>
<script src="{{ "/js/search.js"  | relURL }}" defer></script>
<script src="{{ "/js/sidebar.js" | relURL }}" defer></script>

{{- /* --------- UMAMI ANALYTICS ---------- */ -}}
{{ with .Site.Params.umami_script }}
  {{ $umamiID := $.Site.Params.umami_site_id }}
  {{ if $umamiID }}
    <script defer src="{{ . }}" data-website-id="{{ $umamiID }}"></script>
  {{ end }}
{{ end }}

{{- /* --------- BREADCRUMB SCHEMA ---------- */ -}}
{{ if not .IsHome }}
  {{ partial "breadcrumbs-schema.html" . }}
{{ end }}

{{- /* --------- ORGANIZATION SCHEMA ---------- */ -}}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Code Monkey Cybersecurity",
  "url": "https://cybermonkey.net.au",
  "logo": "https://cybermonkey.net.au/assets/images/favicon-circular-128x128.png",
  "sameAs": [
    "https://github.com/CodeMonkeyCybersecurity",
    "https://x.com/codemonkeycyber",
    "https://facebook.com/codemonkeycyber"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "email": "main@cybermonkey.net.au",
    "contactType": "customer support",
    "areaServed": "AU",
    "availableLanguage": "English"
  }
}
</script>